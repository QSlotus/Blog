<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="QiuSYan"><script>!function(){const e="REDEFINE-THEME-STATUS",t="dark",o="light";function c(e){const c=e===t,a=document.documentElement;a.setAttribute("data-theme",e),a.classList.add(e),a.classList.remove(c?o:t),a.style.colorScheme=e}const a=function(){try{const c=localStorage.getItem(e);if(c){const{isDark:e}=JSON.parse(c);return e?t:o}}catch(e){}return matchMedia("(prefers-color-scheme: dark)").matches?t:o}();c(a),matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:a})=>{localStorage.getItem(e)||c(a?t:o)})),"loading"!==document.readyState?document.body.classList.add(a+"-mode"):document.addEventListener("DOMContentLoaded",(()=>{document.body.classList.add(a+"-mode"),document.body.classList.remove((a===t?o:t)+"-mode")}))}()</script><style>:root[data-theme=dark]{--background-color:#202124;--background-color-transparent:rgba(32, 33, 36, 0.6);--second-background-color:#2d2e32;--third-background-color:#34353a;--third-background-color-transparent:rgba(32, 33, 36, 0.6);--primary-color:#0066CC;--first-text-color:#ffffff;--second-text-color:#eeeeee;--third-text-color:#bebec6;--fourth-text-color:#999999;--default-text-color:#bebec6;--invert-text-color:#373D3F;--border-color:rgba(255, 255, 255, 0.08);--selection-color:#0066CC;--shadow-color-1:rgba(255, 255, 255, 0.08);--shadow-color-2:rgba(255, 255, 255, 0.05)}:root[data-theme=light]{--background-color:#fff;--background-color-transparent:rgba(255, 255, 255, 0.6);--second-background-color:#f8f8f8;--third-background-color:#f2f2f2;--third-background-color-transparent:rgba(241, 241, 241, 0.6);--primary-color:#0066CC;--first-text-color:#16171a;--second-text-color:#2f3037;--third-text-color:#5e5e5e;--fourth-text-color:#eeeeee;--default-text-color:#373D3F;--invert-text-color:#bebec6;--border-color:rgba(0, 0, 0, 0.08);--selection-color:#0066CC;--shadow-color-1:rgba(0, 0, 0, 0.08);--shadow-color-2:rgba(0, 0, 0, 0.05)}body{background-color:var(--background-color);color:var(--default-text-color)}:root[data-theme=dark] body{background-color:var(--background-color);color:var(--default-text-color)}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="https://blog.qiusyan.top/posts/3676.html"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="QiuSYan的个人博客。"><meta property="og:type" content="article"><meta property="og:title" content="Win11下WSL2配置记录"><meta property="og:url" content="https://blog.qiusyan.top/posts/3676.html"><meta property="og:site_name" content="QiuSYan&#39;s Blog"><meta property="og:description" content="QiuSYan的个人博客。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://blog.qiusyan.top/images/redefine-og.webp"><meta property="article:published_time" content="2024-03-02T09:23:48.000Z"><meta property="article:modified_time" content="2024-03-04T09:23:48.000Z"><meta property="article:author" content="QiuSYan"><meta property="article:tag" content="Win11"><meta property="article:tag" content="WSL2"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.qiusyan.top/images/redefine-og.webp"><script defer src="https://umami.qiusyan.top/script.js" data-website-id="26c0cd6e-76c3-4ecf-bb70-a2bc0bdd9b1c"></script><link rel="icon" type="image/png" href="/images/redefine-favicon.svg" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-favicon.svg"><meta name="theme-color" content="#4586F3"><link rel="shortcut icon" href="/images/redefine-favicon.svg"><title>Win11下WSL2配置记录 | QiuSYan&#39;s Blog</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/heimu.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/build/tailwind.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><link href="" rel="stylesheet"><link href="https://font.qiusyan.top/srweb/result.css" rel="stylesheet"><link href="https://font.qiusyan.top/srweb/result.css" rel="stylesheet"><link href="https://font.qiusyan.top/srweb/result.css" rel="stylesheet"><script id="hexo-configurations">window.config={hostname:"blog.qiusyan.top",root:"/",language:"zh-CN",path:"search.xml"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,delete_mask:!0,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:["( ᗜ ‸ ᗜ )"]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!0,family:"Consolas",url:null}},toc:{enable:!0,max_depth:5,number:!0,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,pangu_js:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#4586F3",secondary:null,default_mode:"dark"},global:{fonts:{chinese:{enable:!0,family:"SDK_SC_Web",url:"https://font.qiusyan.top/srweb/result.css"},english:{enable:!0,family:"SDK_SC_Web",url:"https://font.qiusyan.top/srweb/result.css"},title:{enable:!0,family:"SDK_SC_Web",url:"https://font.qiusyan.top/srweb/result.css"}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!1},scroll_progress:{bar:!1,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!1,custom_message:null},side_tools:{gear_rotation:!0,auto_expand:!1},open_graph:{enable:!0,image:"/images/redefine-og.webp",description:"QiuSYan的个人博客。"},google_analytics:{enable:!1,id:null}},home_banner:{enable:!1,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"Theme Redefine",subtitle:{text:[],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:{github:"https://github.com/QSlotus",instagram:null,zhihu:null,twitter:null,email:null,"fas fa-envelope":"mailto:halo-402@outlook.com"},qrs:{weixin:null}}},plugins:{feed:{enable:!0},aplayer:{enable:!1,type:"fixed",audios:[{name:"存分(Zone Brrn)",artist:"苺りなはむ",url:"https://m801.music.126.net/20241108133251/e5f439273778c51665af50c956ddff0e/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/32404391460/23f9/22ee/db95/72f4395834a4ecce5f7683a1da015f22.mp3",cover:"https://p3.music.126.net/2VJdNxyRVs9HzJvUeF9-4A==/109951167894782520.jpg?param=320y320",lrc:null}]},mermaid:{enable:!1,version:"9.3.0"},meting:{enable:!0,global_sticky_enable:!1,id:"1926144232",server:"netease",type:"song",playerType:"fixed",preload:"auto",loop:"all",theme:"#4586F3"}},version:"2.8.4",navbar:{auto_hide:!0,color:{left:"#4586F3",right:"#EB4334",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},"留言":{path:"/messages",icon:"fa-regular fa-book"},"音乐":{icon:"fa-regular fa-music",path:"/music"},"友链":{icon:"fa-solid fa-link",path:"/links/"},About:{path:"/about",icon:"fa-regular fa-user"}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:"不如吃茶去",show_on_mobile:!0,links:{"归档":{path:"/archives",icon:"fa-regular fa-archive"},"标签":{path:"/tags",icon:"fa-regular fa-tags"},"分类":{path:"/categories",icon:"fa-regular fa-folder"},"备份":{path:"/backups",icon:"fa-regular fa-list-tree"},"统计":{path:"https://umami.qiusyan.top/share/GEkH7iGqaXnncZ9p/blog.qiusyan.top",icon:"fa-solid fa-chart-mixed"}}},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:5},tags:{enable:!0,limit:3}},footerStart:"2022/12/1 00:00:00"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="QiuSYan's Blog" type="application/atom+xml"></head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span></div><main class="page-container" id="swup"><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class="left"><a class="logo-title" href="/">QiuSYan&#39;s Blog</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a href="/messages"><i class="fa-regular fa-book fa-fw"></i> 留言</a></li><li class="navbar-item"><a href="/music"><i class="fa-regular fa-music fa-fw"></i> 音乐</a></li><li class="navbar-item"><a href="/links/"><i class="fa-solid fa-link fa-fw"></i> 友链</a></li><li class="navbar-item"><a href="/about"><i class="fa-regular fa-user fa-fw"></i> 关于</a></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页</span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/messages"><span>留言</span><i class="fa-regular fa-book fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/music"><span>音乐</span><i class="fa-regular fa-music fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/links/"><span>友链</span><i class="fa-solid fa-link fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/about"><span>关于</span><i class="fa-regular fa-user fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/archives"><span>归档</span><i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/tags"><span>标签</span><i class="fa-regular fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/categories"><span>分类</span><i class="fa-regular fa-folder fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/backups"><span>备份</span><i class="fa-regular fa-list-tree fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" target="_blank" rel="noopener" href="https://umami.qiusyan.top/share/GEkH7iGqaXnncZ9p/blog.qiusyan.top"><span>统计</span><i class="fa-solid fa-chart-mixed fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">37</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">3</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">22</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body transition-fade-up"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Win11下WSL2配置记录</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="/img/avatar.webp"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">QiuSYan</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">( ᗜ ‸ ᗜ )</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i> &nbsp; <span class="desktop">2024-03-02 17:23:48</span> <span class="mobile">2024-03-02 17:23:48</span> <span class="hover-info">创建</span></span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i> &nbsp; <span class="desktop">2024-03-04 17:23:48</span> <span class="mobile">2024-03-04 17:23:48</span> <span class="hover-info">更新</span></span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i> &nbsp;<ul><li><a href="/categories/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">学习记录</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i> &nbsp;<ul><li><a href="/tags/Win11/">Win11</a>&nbsp;</li><li>| <a href="/tags/WSL2/">WSL2</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i> &nbsp;<span>2k 字</span></span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i> &nbsp;<span>8 分钟</span></span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i> &nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-ai-summary my-6 px-2 sm:px-6 md:px-8"><div class="border border-border-color rounded-medium p-4 bg-background-color shadow-redefine-flat"><div class="ai-summary-header flex items-center justify-between mb-3"><div class="flex items-center gap-2"><i class="fas fa-robot text-second-text-color"></i><h3 class="text-second-text-color font-semibold">AI 摘要</h3></div><div class="style-buttons flex gap-2"></div></div><p id="ai-output" class="text-default-text-color">正在生成中……</p></div></div><style>.style-button.active{background-color:var(--second-text-color);color:var(--background-color)}.style-button.active i{color:var(--background-color)}</style><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><p>最近电脑老是无响应，C盘也快满了，就寻思着把系统重装下<br>听说现在Win11更到了23H2了，抱着尝尝鲜的想法，我决定把系统升个级<br>顺便用WSL2装了个Ubuntu，挺舒服的。</p><p><meting-js server="netease" type="song" id="2124106667"></meting-js></p><h2 id="WSL-是什么"><a href="#WSL-是什么" class="headerlink" title="WSL 是什么"></a>WSL 是什么</h2><p><strong>WSL</strong>，全称 <strong>适用于 Linux 的 Windows 子系统</strong>。</p><blockquote><p>适用于 Linux 的 Windows 子系统 (WSL) 是 Windows 的一项功能，可用于在 Windows 计算机上运行 Linux 环境，而无需单独的虚拟机或双引导。 WSL 旨在为希望同时使用 Windows 和 Linux 的开发人员提供无缝高效的体验。</p><ul><li><p>使用 WSL 安装和运行各种 Linux 发行版，例如 Ubuntu、Debian、Kali 等。 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/install">安装 Linux 发行版<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>并从 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/compare-versions#wsl-in-the-microsoft-store">Microsoft Store<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> 接收自动更新、<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/use-custom-distro">导入 Microsoft Store 中不可用的 Linux 发行版<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>，或<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/build-custom-distro">构建你自己的客户 Linux 发行版<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p></li><li><p>将文件存储在独立的 Linux 文件系统中，具体取决于安装的发行版。</p></li><li><p>运行命令行工具，例如 BASH。</p></li><li><p>运行常用的 BASH 命令行工具（例如 <code>grep</code>、<code>sed</code>、<code>awk</code>）或其他 ELF-64 二进制文件。</p></li><li><p>运行 Bash 脚本和 GNU&#x2F;Linux 命令行应用程序，包括：</p><ul><li>工具：vim、emacs、tmux</li><li>语言：<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/nodejs/setup-on-wsl2">NodeJS<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>、JavaScript、<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/python/web-frameworks">Python<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>、Ruby、C&#x2F;C++、C# 和 F#、Rust、Go 等。</li><li>服务：SSHD、<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">MySQL<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>、Apache、lighttpd、<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">MongoDB<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>、<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">PostgreSQL<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</li></ul></li><li><p>使用自己的 GNU&#x2F;Linux 分发包管理器安装其他软件。</p></li><li><p>使用类似于 Unix 的命令行 调用 Windows 应用程序。</p></li><li><p>在 Windows 上调用 GNU&#x2F;Linux 应用程序。</p></li><li><p>运行直接集成到 Windows 桌面的 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gui-apps">GNU&#x2F;Linux 图形应用程序<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p></li><li><p>使用你的设备 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute">GPU 加速 Linux 上运行的机器学习工作负载<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p></li></ul><p>摘自 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/about">什么是适用于 Linux 的 Windows 子系统 | Microsoft Learn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p></blockquote><p>简而言之，WSL可以让你在Windows上安装Linux子系统而无需其他的软件如 <strong>VMWare</strong></p><blockquote><p>碎碎念：VMWare的vmware-hosted老是占掉我的443端口导致Steam++加速失败，还得我手动去关qwq</p></blockquote><h2 id="WSL2-又是什么"><a href="#WSL2-又是什么" class="headerlink" title="WSL2 又是什么"></a>WSL2 又是什么</h2><blockquote><p>安装 Linux 发行版时，WSL 2 是默认发行版类型。 WSL 2 使用虚拟化技术在轻量级实用工具虚拟机 (VM) 中运行 Linux 内核。 Linux 发行版作为独立的容器在 WSL 2 托管 VM 内运行。 通过 WSL 2 运行的 Linux 发行版将共享同一网络命名空间、设备树（而非 <code>/dev/pts</code>）、CPU&#x2F;内核&#x2F;内存&#x2F;交换空间、<code>/init</code> 二进制文件，但有自己的 PID 命名空间、装载命名空间、用户命名空间、Cgroup 命名空间和 <code>init</code> 进程。</p><p>WSL 2 提高了文件系统性能，并且与 WSL 1 体系结构相比增加了完整的系统调用兼容性。 详细了解 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/compare-versions">WSL 1 和 WSL 2 的比较<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p><p>单个 Linux 分发版可以在 WSL 1 或 WSL 2 体系结构中运行。 每个分发版可随时升级或降级，并且你可以并行运行 WSL 1 和 WSL 2 分发版。 请参阅<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands#set-default-wsl-version">设置 WSL 版本命令<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。</p><p>摘自 <a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/about#what-is-wsl-2">什么是 WSL 2 | Microsoft Learn<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p></blockquote><h2 id="安装-WSL2-及-Linux发行版"><a href="#安装-WSL2-及-Linux发行版" class="headerlink" title="安装 WSL2 及 Linux发行版"></a>安装 WSL2 及 Linux发行版</h2><h3 id="环境检查"><a href="#环境检查" class="headerlink" title="环境检查"></a>环境检查</h3><p><strong>Win+R</strong> 输入 <code>winver</code> 回车以查看你的 Windows版本。</p><blockquote><p>若要更新到 WSL 2，需要运行 Windows 10。</p><ul><li>对于 x64 系统：版本 1903 或更高版本，内部版本为 18362.1049 或更高版本。</li><li>对于 ARM64 系统：版本 2004 或更高版本，内部版本为 19041 或更高版本。</li></ul><p>或 Windows 11。</p></blockquote><h3 id="启用-WSL-功能"><a href="#启用-WSL-功能" class="headerlink" title="启用 WSL 功能"></a>启用 WSL 功能</h3><p><strong>Win+Q</strong> 打开搜索框，查找 <strong>启用或关闭Windows功能</strong> 。<br>打开后，勾选 <strong>虚拟机平台</strong> 和 <strong>适用于 Linux 的 Windows 子系统</strong></p><blockquote><p>如图示<br><img lazyload src="/images/loading.svg" data-src="/img/windows%E5%8A%9F%E8%83%BD.png" alt="windows功能"></p></blockquote><h3 id="设置默认安装-WSL2"><a href="#设置默认安装-WSL2" class="headerlink" title="设置默认安装 WSL2"></a>设置默认安装 WSL2</h3><p>为了安装 WSL2，需要先安装 WSL2 的内核更新包：<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">适用于 x64 计算机的 WSL2 Linux 内核更新包<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>。<br>下载后双击安装。<br>安装后，打开 CMD ，使用该指令将 WSL2 设置为默认版本：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure></div><h3 id="升级-WSL2-至最新版本"><a href="#升级-WSL2-至最新版本" class="headerlink" title="升级 WSL2 至最新版本"></a>升级 WSL2 至最新版本</h3><p>打开 CMD ，输入指令：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --update</span><br></pre></td></tr></table></figure></div><p>完成后可输入以下指令验证是否升级成功：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --version</span><br></pre></td></tr></table></figure></div><h3 id="安装至非C盘"><a href="#安装至非C盘" class="headerlink" title="安装至非C盘"></a>安装至非C盘</h3><p>微软的文档的安装方法很简单，一行指令的事：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install</span><br></pre></td></tr></table></figure></div><p><strong>但是，这个安装方法会将Linux发行版默认安装至C盘</strong><br>如果你的C盘很大，那你随意<br>如果你不想将其安装到C盘，那么请继续往下看</p><p>首先，去官网下载你想要的Linux发行版：<a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#downloading-distributions">下载发行版<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p><blockquote><p><img lazyload src="/images/loading.svg" data-src="/img/%E4%B8%8B%E8%BD%BD%E5%8F%91%E8%A1%8C%E7%89%88.png" alt="下载发行版"></p></blockquote><p>将安装包下载下来后，创建一个 <strong>你想要的发行版的安装目录</strong>，然后将安装包移动至目录中。<br>再将其后缀改为 <code>.zip</code>，解压。解压后你会得到一个文件夹，如果文件夹中有 <code>.exe</code> 文件那双击安装就可以了<br>如果解压后文件夹内有多个 <code>.appx</code> 文件，那就根据自己的平台找到那个 <code>&lt;发行版名称及版本&gt;_x64.appx</code> 文件 或 <code>&lt;发行版名称及版本&gt;_ARM64.appx</code>，将其后缀改为 <code>.zip</code> 再次解压，这样就可以得到 <code>.exe</code> 文件了。<br>这时候，双击 <code>.exe</code> 文件，就能开始安装Linux子系统了。<br>安装时根据向导进行相应的设置即可。不过注意在设置用户名时只能设置小写字母、数字和下划线（不能使用大写字母）。<br>至此我们已经安装好了 WSL2，在 CMD 中使用命令可以检查我们安装的版本：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl -l -v</span><br></pre></td></tr></table></figure></div><h2 id="配置-Linux-发行版"><a href="#配置-Linux-发行版" class="headerlink" title="配置 Linux 发行版"></a>配置 Linux 发行版</h2><p>那么咱们现在开始配置Linux发行版（以 <code>Ubuntu 22.04</code> 为例</p><p>打开 CMD，输入以下指令进入已安装的发行版：</p><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl</span><br></pre></td></tr></table></figure></div><h3 id="换源并更新软件包"><a href="#换源并更新软件包" class="headerlink" title="换源并更新软件包"></a>换源并更新软件包</h3><p>进入系统的第一步当然是换源</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div><p>如果你想把安全更新的源也给换了，那就使用如下指令：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;s/security.ubuntu.com/mirrors.ustc.edu.cn/g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div><p>使用 HTTPS 可以有效避免国内运营商的缓存劫持</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;s/http:/https:/g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div><p>更新软件包：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</span><br></pre></td></tr></table></figure></div><h3 id="启用-systemd"><a href="#启用-systemd" class="headerlink" title="启用 systemd"></a>启用 <code>systemd</code></h3><p>命令行输入</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;[boot]\nsystemd=true&quot;</span> | sudo <span class="built_in">tee</span> /etc/wsl.conf</span><br></pre></td></tr></table></figure></div><p>随后退出Linux环境，输入</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure></div><p>重启Linux。随后输入<code>wsl</code>进入Linux发行版即可。<br>通过在Linux发行版内执行</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl list-unit-files --<span class="built_in">type</span>=service</span><br></pre></td></tr></table></figure></div><p>确认systemd启用情况。</p><h3 id="将语言设置为中文"><a href="#将语言设置为中文" class="headerlink" title="将语言设置为中文"></a>将语言设置为中文</h3><p>生成简体中文环境支持文件</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo locale-gen zh_CN.UTF-8</span><br></pre></td></tr></table></figure></div><p>安装语言包</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install language-pack-zh-hans language-pack-zh-hant -y</span><br></pre></td></tr></table></figure></div><p>安装字符集</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/locales &amp;&amp; sudo ./install-language-pack zh_CN </span><br></pre></td></tr></table></figure></div><p>将语言配置写入 <code>/etc/profile</code> 文件</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;$a export LANG=zh_CN.UTF-8\nexport LANGUAGE=zh_CN:zh&#x27;</span> /etc/profile</span><br></pre></td></tr></table></figure></div><p>使配置生效</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></div><p>验证是否生效</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale</span><br></pre></td></tr></table></figure></div><p>如果生效了，终端应该会有如下的输出：</p><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line">LANGUAGE=zh_CN:zh</span><br><span class="line">LC_CTYPE=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_NUMERIC=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_TIME=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_COLLATE=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_MONETARY=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_MESSAGES=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_PAPER=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_NAME=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_ADDRESS=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LC_ALL=</span><br></pre></td></tr></table></figure></div><h3 id="固定Linux发行版的ip地址"><a href="#固定Linux发行版的ip地址" class="headerlink" title="固定Linux发行版的ip地址"></a>固定Linux发行版的ip地址</h3><p>在Windows用户目录 <code>%USERPROFILE%</code> 下面创建一个配置文件 .wslconfig，写入以下内容：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[experimental]</span><br><span class="line">networkingMode=mirrored</span><br><span class="line">dnsTunneling=<span class="literal">true</span></span><br><span class="line">firewall=<span class="literal">true</span></span><br><span class="line">autoProxy=<span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>再在终端输入</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure></div><p>重启wsl，再进入就可以了<br>以后想从Windows访问Linux内的服务就可以通过在浏览器中输入 <code>localhost:&lt;端口号&gt;</code> 来访问</p><h2 id="潦草地结束"><a href="#潦草地结束" class="headerlink" title="潦草地结束"></a>潦草地结束</h2><p>我受不了这个Win11了，一堆bug，好多应用都是全篇乱码，到网上找了解决方法也没起用<br>不是说已经23H2了吗，不应该整的很好吗（挠头<br>哦听说是阿三做的啊，那没事了<br>微软你不会做可以不要做，不要把这个做成一坨的东西端上来<br><span class="heimu" title="充其量是一坨比较炫的吧">虽然win11UI挺好看的</span><br>直接msdn rufus启动，win10我tm莱纳</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol><li><a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_45840825/article/details/127138564">win11 安装 WSL2 在非 C 盘及配置（图形界面+代理）_wsl不安装在c盘 csdn-CSDN博客<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li><li><a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://zhuanlan.zhihu.com/p/593263088">WSL2 网络的最终解决方案 - 知乎 (zhihu.com)<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li><li><a class="link" target="_blank" rel="noopener external nofollow noreferrer" href="https://zhuanlan.zhihu.com/p/165961076">Ubuntu Zh_CN_UTF8 设置 - 知乎 (zhihu.com)<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li></ol></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> Win11下WSL2配置记录</li><li><strong>作者:</strong> QiuSYan</li><li><strong>创建于 :</strong> 2024-03-02 17:23:48</li><li><strong>更新于 :</strong> 2024-03-04 17:23:48</li><li><strong>链接:</strong> https://blog.qiusyan.top/posts/3676.html</li><li><strong>版权声明:</strong> 本文章采用 <a class="license" target="_blank" rel="noopener external nofollow noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/Win11/">#Win11</a>&nbsp;</li><li class="tag-item mx-0.5"><a href="/tags/WSL2/">#WSL2</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/posts/62801.html"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i></span> <span class="title flex justify-center items-center"><span class="post-nav-title-item truncate max-w-48">Windows下简易Hexo部署教程</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/posts/10055.html"><span class="title flex justify-center items-center"><span class="post-nav-title-item truncate max-w-48">我的2023</span> <span class="post-nav-item">下一篇</span></span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div><div class="comment-container px-2 sm:px-6 md:px-8 pb-8"><div class="comments-container mt-10 w-full"><div id="comment-anchor" class="w-full h-2.5"></div><div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">评论</div><div class="twikoo-container"><script data-swup-reload-script src="https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.6.10/twikoo.all.min.js"></script><div id="twikoo-comment"></div><script data-swup-reload-script>function loadTwikoo(){twikoo.init({el:"#twikoo-comment",envId:"https://twikoo-netlify.qiusyan.top/.netlify/functions/twikoo"})}{const o=setTimeout((()=>{loadTwikoo(),clearTimeout(o)}),1e3)}</script></div></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">目录</div><div class="page-title">Win11下WSL2配置记录</div><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#WSL-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.</span> <span class="nav-text">WSL 是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WSL2-%E5%8F%88%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">2.</span> <span class="nav-text">WSL2 又是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-WSL2-%E5%8F%8A-Linux%E5%8F%91%E8%A1%8C%E7%89%88"><span class="nav-number">3.</span> <span class="nav-text">安装 WSL2 及 Linux发行版</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E6%A3%80%E6%9F%A5"><span class="nav-number">3.1.</span> <span class="nav-text">环境检查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E7%94%A8-WSL-%E5%8A%9F%E8%83%BD"><span class="nav-number">3.2.</span> <span class="nav-text">启用 WSL 功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%AE%89%E8%A3%85-WSL2"><span class="nav-number">3.3.</span> <span class="nav-text">设置默认安装 WSL2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7-WSL2-%E8%87%B3%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC"><span class="nav-number">3.4.</span> <span class="nav-text">升级 WSL2 至最新版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E8%87%B3%E9%9D%9EC%E7%9B%98"><span class="nav-number">3.5.</span> <span class="nav-text">安装至非C盘</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Linux-%E5%8F%91%E8%A1%8C%E7%89%88"><span class="nav-number">4.</span> <span class="nav-text">配置 Linux 发行版</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8D%A2%E6%BA%90%E5%B9%B6%E6%9B%B4%E6%96%B0%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="nav-number">4.1.</span> <span class="nav-text">换源并更新软件包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E7%94%A8-systemd"><span class="nav-number">4.2.</span> <span class="nav-text">启用 systemd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86%E8%AF%AD%E8%A8%80%E8%AE%BE%E7%BD%AE%E4%B8%BA%E4%B8%AD%E6%96%87"><span class="nav-number">4.3.</span> <span class="nav-text">将语言设置为中文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BA%E5%AE%9ALinux%E5%8F%91%E8%A1%8C%E7%89%88%E7%9A%84ip%E5%9C%B0%E5%9D%80"><span class="nav-number">4.4.</span> <span class="nav-text">固定Linux发行版的ip地址</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BD%A6%E8%8D%89%E5%9C%B0%E7%BB%93%E6%9D%9F"><span class="nav-number">5.</span> <span class="nav-text">潦草地结束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">6.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div></div><script data-swup-reload-script>window.articleTitle="Win11下WSL2配置记录",window.articleContent="最近电脑老是无响应，C盘也快满了，就寻思着把系统重装下听说现在Win11更到了23H2了，抱着尝尝鲜的想法，我决定把系统升个级顺便用WSL2装了个Ubuntu，挺舒服的。  WSL 是什么WSL，全称 适用于 Linux 的 Windows 子系统。  适用于 Linux 的 Windows 子系统 (WSL) 是 Windows 的一项功能，可用于在 Windows 计算机上运行 Linux 环境，而无需单独的虚拟机或双引导。 WSL 旨在为希望同时使用 Windows 和 Linux 的开发人员提供无缝高效的体验。  使用 WSL 安装和运行各种 Linux 发行版，例如 Ubuntu、Debian、Kali 等。 安装 Linux 发行版并从 Microsoft Store 接收自动更新、导入 Microsoft Store 中不可用的 Linux 发行版，或构建你自己的客户 Linux 发行版。  将文件存储在独立的 Linux 文件系统中，具体取决于安装的发行版。  运行命令行工具，例如 BASH。  运行常用的 BASH 命令行工具（例如 grep、sed、awk）或其他 ELF-64 二进制文件。  运行 Bash 脚本和 GNU&#x2F;Linux 命令行应用程序，包括：  工具：vim、emacs、tmux 语言：NodeJS、JavaScript、Python、Ruby、C&#x2F;C++、C# 和 F#、Rust、Go 等。 服务：SSHD、MySQL、Apache、lighttpd、MongoDB、PostgreSQL。   使用自己的 GNU&#x2F;Linux 分发包管理器安装其他软件。  使用类似于 Unix 的命令行     调用 Windows 应用程序。  在 Windows 上调用 GNU&#x2F;Linux 应用程序。  运行直接集成到 Windows 桌面的 GNU&#x2F;Linux 图形应用程序  使用你的设备 GPU 加速 Linux 上运行的机器学习工作负载。   摘自 什么是适用于 Linux 的 Windows 子系统 | Microsoft Learn  简而言之，WSL可以让你在Windows上安装Linux子系统而无需其他的软件如 VMWare  碎碎念：VMWare的vmware-hosted老是占掉我的443端口导致Steam++加速失败，还得我手动去关qwq  WSL2 又是什么 安装 Linux 发行版时，WSL 2 是默认发行版类型。 WSL 2 使用虚拟化技术在轻量级实用工具虚拟机 (VM) 中运行 Linux 内核。 Linux 发行版作为独立的容器在 WSL 2 托管 VM 内运行。 通过 WSL 2 运行的 Linux 发行版将共享同一网络命名空间、设备树（而非 /dev/pts）、CPU&#x2F;内核&#x2F;内存&#x2F;交换空间、/init 二进制文件，但有自己的 PID 命名空间、装载命名空间、用户命名空间、Cgroup 命名空间和 init 进程。 WSL 2 提高了文件系统性能，并且与 WSL 1 体系结构相比增加了完整的系统调用兼容性。 详细了解 WSL 1 和 WSL 2 的比较。 单个 Linux 分发版可以在 WSL 1 或 WSL 2 体系结构中运行。 每个分发版可随时升级或降级，并且你可以并行运行 WSL 1 和 WSL 2 分发版。 请参阅设置 WSL 版本命令。 摘自 什么是 WSL 2 | Microsoft Learn  安装 WSL2 及 Linux发行版环境检查Win+R 输入 winver 回车以查看你的 Windows版本。  若要更新到 WSL 2，需要运行 Windows 10。  对于 x64 系统：版本 1903 或更高版本，内部版本为 18362.1049 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，内部版本为 19041 或更高版本。  或 Windows 11。  启用 WSL 功能Win+Q 打开搜索框，查找 启用或关闭Windows功能 。打开后，勾选 虚拟机平台 和 适用于 Linux 的 Windows 子系统  如图示  设置默认安装 WSL2为了安装 WSL2，需要先安装 WSL2 的内核更新包：适用于 x64 计算机的 WSL2 Linux 内核更新包。下载后双击安装。安装后，打开 CMD ，使用该指令将 WSL2 设置为默认版本： 1wsl --set-default-version 2  升级 WSL2 至最新版本打开 CMD ，输入指令： 1wsl --update 完成后可输入以下指令验证是否升级成功： 1wsl --version  安装至非C盘微软的文档的安装方法很简单，一行指令的事： 1wsl --install 但是，这个安装方法会将Linux发行版默认安装至C盘如果你的C盘很大，那你随意如果你不想将其安装到C盘，那么请继续往下看 首先，去官网下载你想要的Linux发行版：下载发行版    将安装包下载下来后，创建一个 你想要的发行版的安装目录，然后将安装包移动至目录中。再将其后缀改为 .zip，解压。解压后你会得到一个文件夹，如果文件夹中有 .exe 文件那双击安装就可以了如果解压后文件夹内有多个 .appx 文件，那就根据自己的平台找到那个 &lt;发行版名称及版本&gt;_x64.appx 文件 或 &lt;发行版名称及版本&gt;_ARM64.appx，将其后缀改为 .zip 再次解压，这样就可以得到 .exe 文件了。这时候，双击 .exe 文件，就能开始安装Linux子系统了。安装时根据向导进行相应的设置即可。不过注意在设置用户名时只能设置小写字母、数字和下划线（不能使用大写字母）。至此我们已经安装好了 WSL2，在 CMD 中使用命令可以检查我们安装的版本： 1wsl -l -v   配置 Linux 发行版那么咱们现在开始配置Linux发行版（以 Ubuntu 22.04 为例 打开 CMD，输入以下指令进入已安装的发行版： 1wsl 换源并更新软件包进入系统的第一步当然是换源 1sudo sed -i &#x27;s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g&#x27; /etc/apt/sources.list 如果你想把安全更新的源也给换了，那就使用如下指令： 1sudo sed -i &#x27;s/security.ubuntu.com/mirrors.ustc.edu.cn/g&#x27; /etc/apt/sources.list 使用 HTTPS 可以有效避免国内运营商的缓存劫持 1sudo sed -i &#x27;s/http:/https:/g&#x27; /etc/apt/sources.list  更新软件包： 1sudo apt-get update &amp;&amp; sudo apt-get upgrade -y  启用 systemd命令行输入 1echo -e &quot;[boot]\\nsystemd=true&quot; | sudo tee /etc/wsl.conf 随后退出Linux环境，输入 1wsl --shutdown 重启Linux。随后输入wsl进入Linux发行版即可。通过在Linux发行版内执行 1systemctl list-unit-files --type=service 确认systemd启用情况。 将语言设置为中文生成简体中文环境支持文件 1sudo locale-gen zh_CN.UTF-8  安装语言包 1sudo apt-get install language-pack-zh-hans language-pack-zh-hant -y 安装字符集 1cd /usr/share/locales &amp;&amp; sudo ./install-language-pack zh_CN   将语言配置写入 /etc/profile 文件 1sudo sed -i &#x27;$a export LANG=zh_CN.UTF-8\\nexport LANGUAGE=zh_CN:zh&#x27; /etc/profile 使配置生效 1source /etc/profile 验证是否生效 1locale 如果生效了，终端应该会有如下的输出： 123456789101112131415LANG=zh_CN.UTF-8LANGUAGE=zh_CN:zhLC_CTYPE=&quot;zh_CN.UTF-8&quot;LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=  固定Linux发行版的ip地址在Windows用户目录 %USERPROFILE% 下面创建一个配置文件 .wslconfig，写入以下内容： 12345[experimental]networkingMode=mirroreddnsTunneling=truefirewall=trueautoProxy=true 再在终端输入 1wsl --shutdown 重启wsl，再进入就可以了以后想从Windows访问Linux内的服务就可以通过在浏览器中输入 localhost:&lt;端口号&gt; 来访问 潦草地结束我受不了这个Win11了，一堆bug，好多应用都是全篇乱码，到网上找了解决方法也没起用不是说已经23H2了吗，不应该整的很好吗（挠头哦听说是阿三做的啊，那没事了微软你不会做可以不要做，不要把这个做成一坨的东西端上来虽然win11UI挺好看的直接msdn rufus启动，win10我tm莱纳 参考资料 win11 安装 WSL2 在非 C 盘及配置（图形界面+代理）_wsl不安装在c盘 csdn-CSDN博客 WSL2 网络的最终解决方案 - 知乎 (zhihu.com) Ubuntu Zh_CN_UTF8 设置 - 知乎 (zhihu.com)  "</script></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2022</span> - 2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">QiuSYan</a><p class="post-count space-x-0.5"><span>共撰写了 22 篇文章</span> <span>共 25.5k 字</span></p></div><script data-swup-reload-script src="https://cn.vercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">访问人数</span><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">总访问量</span><span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">由<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4 25.8l-200 115.5L56 371.5l199.6 114.7 200-115.5.4-230.2L256.4 25.8zM349 354.6l-18.4 10.7-18.6-11V275H200v79.6l-18.4 10.7-18.6-11v-197l18.5-10.6 18.5 10.8V237h112v-79.6l18.5-10.6 18.5 10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io" rel="external nofollow noreferrer">Hexo</a> 驱动</span> <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine" rel="external nofollow noreferrer">Redefine v2.8.4</a></span><div class="lg:block text-sm" id="hitokoto-container"><span id="hitokoto"></span></div></div><div>博客已运行<span class="odometer" id="runtime_days"></span> 天<span class="odometer" id="runtime_hours"></span> 小时<span class="odometer" id="runtime_minutes"></span> 分钟<span class="odometer" id="runtime_seconds"></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach((e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})}))}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li><li class="go-comment"><i class="fa-regular fa-comments"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools rss flex justify-center items-center"><a class="flex justify-center items-center" href="/atom.xml" target="_blank"><i class="fa-regular fa-rss"></i></a></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i><span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="站内搜索您需要的内容..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/build/libs/Swup.min.js"></script><script src="/js/build/libs/SwupSlideTheme.min.js"></script><script src="/js/build/libs/SwupScriptsPlugin.min.js"></script><script src="/js/build/libs/SwupProgressPlugin.min.js"></script><script src="/js/build/libs/SwupScrollPlugin.min.js"></script><script src="/js/build/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/build/tools/imageViewer.js" type="module"></script><script src="/js/build/utils.js" type="module"></script><script src="/js/build/main.js" type="module"></script><script src="/js/build/layouts/navbarShrink.js" type="module"></script><script src="/js/build/tools/scrollTopBottom.js" type="module"></script><script src="/js/build/tools/lightDarkSwitch.js" type="module"></script><script src="/js/build/layouts/categoryList.js" type="module"></script><script src="/js/build/tools/localSearch.js" type="module"></script><script src="/js/build/tools/codeBlock.js" type="module"></script><script src="/js/build/layouts/lazyload.js" type="module"></script><script src="/js/build/tools/runtime.js"></script><script src="/js/build/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/build/libs/Typed.min.js"></script><script src="/js/build/plugins/typed.js" type="module"></script><script src="/js/build/libs/anime.min.js"></script><script src="/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script><script src="/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script><script src="/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script><script src="/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script><script src="/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script><script src="/js/build/libs/pangu.min.js"></script><script src="/js/build/plugins/pangu.js"></script><script src="/js/build/libs/APlayer.min.js"></script><script src="/js/build/libs/Meting.min.js"></script><script src="/js/build/libs/heart.js"></script><script src="/js/build/libs/article-ai-summary.js"></script><script src="/js/build/libs/hitokoto.js"></script></body></html>